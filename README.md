# BrewSecOps: Production-Grade DevSecOps Platform on AWS ECS Fargate

> **"Brew Beautifully, Deploy Securely"** â€” A comprehensive infrastructure-as-code platform demonstrating enterprise-level DevSecOps practices, multi-tier architecture, and automated security scanning on AWS.

[![Pipeline](https://github.com/AkingbadeOmosebi/brewsecops/actions/workflows/pipeline.yml/badge.svg)](https://github.com/AkingbadeOmosebi/brewsecops/actions/workflows/pipeline.yml)
[![Deploy](https://github.com/AkingbadeOmosebi/brewsecops/actions/workflows/deploy.yml/badge.svg)](https://github.com/AkingbadeOmosebi/brewsecops/actions/workflows/deploy.yml)
![Version](https://img.shields.io/badge/version-2.1.0-blue)
![Status](https://img.shields.io/badge/status-Production--Ready-brightgreen)
![AWS](https://img.shields.io/badge/AWS-ECS%20Fargate-orange)
![Cost](https://img.shields.io/badge/monthly%20cost-$226-yellow)

---

## ğŸ“‹ Table of Contents

1. [Executive Summary](#executive-summary)
2. [Visual Documentation](#visual-documentation)
3. [System Architecture](#system-architecture)
4. [Technology Stack](#technology-stack)
5. [Infrastructure Components](#infrastructure-components)
6. [Security Implementation](#security-implementation)
7. [CI/CD Pipeline](#cicd-pipeline)
8. [Cost Analysis](#cost-analysis)
9. [Quick Start Guide](#quick-start-guide)
10. [Project Statistics](#project-statistics)
11. [Documentation](#documentation)
12. [Contact](#contact)

---

## Executive Summary

BrewSecOps is a production-ready DevSecOps platform built on AWS that demonstrates enterprise-level cloud engineering capabilities. The project showcases a containerized 3-tier web application (React + Node.js + PostgreSQL) deployed with comprehensive security scanning, infrastructure-as-code, and automated CI/CD pipelines.

### ğŸ¯ Purpose

This portfolio project was designed to demonstrate senior-level DevOps/Platform Engineering skills for the **German tech market**, emphasizing:
- **Security-first architecture** with 6 scanning tools and AWS WAF protection
- **Infrastructure-as-code** with 11 reusable Terraform modules
- **Production-grade reliability** with Multi-AZ deployment and auto-scaling
- **Comprehensive documentation** reflecting German engineering standards
- **Cost transparency** with Infracost integration

### âœ… What I Built

- **76 AWS Resources** deployed across a Multi-AZ architecture in eu-central-1
- **3-Tier Application**: React 18 frontend, Node.js 20 backend, PostgreSQL 15 database
- **11 Terraform Modules**: VPC, ECS, RDS, ALB, WAF, Route53, ACM, ECR, Security Groups, Monitoring
- **6-Stage Security Pipeline**: Gitleaks â†’ ESLint â†’ SonarCloud â†’ OWASP â†’ Snyk â†’ Trivy
- **Real Security Testing**: SQL injection, XSS, rate limiting, geographic restrictions, bot control
- **Dual Container Registry**: AWS ECR for production + GitHub Container Registry for portfolio
- **Complete Monitoring**: CloudWatch Logs, Metrics, Container Insights, WAF logging
- **Cost Management**: Infracost integration with PR cost estimates and savings suggestions

### ğŸ† Key Achievements

| Metric | Value | Significance |
|--------|-------|--------------|
| **Infrastructure Resources** | 76 AWS resources | Enterprise-scale deployment |
| **Terraform Code** | 2,767 lines across 11 modules | Modular, reusable infrastructure |
| **Application Code** | 7,401 lines (React + Node.js) | Full-stack development capability |
| **Security Tools** | 6 automated scanners | DevSecOps best practices |
| **Pipeline Duration** | 6m 9s (3 stages) | Efficient automated deployment |
| **WAF Protection** | 6 active rules | Real attack prevention tested |
| **High Availability** | 99.95% uptime | Multi-AZ with auto-scaling |
| **Monthly Cost** | $226 (optimized) | Cost-conscious architecture |

---

## Visual Documentation

**Complete visual evidence of working infrastructure:**

- **77 Screenshots** organized by category â€” [View SCREENSHOTS.md](docs/SCREENSHOTS.md)
- **Local Application**: Homepage, product catalog, shopping cart, order tracking
- **AWS Infrastructure**: VPC, ECS, RDS, ALB, WAF, Route53, ACM, CloudWatch
- **CI/CD Pipelines**: Security scanning, build automation, deployment workflows
- **Security Testing**: Real SQL injection, XSS, rate limiting, bot control tests
- **Cost Analysis**: Infracost breakdowns and optimization recommendations

**Quick Visual References:**

| Category | Screenshot | Description |
|----------|------------|-------------|
| **Application** | [Local-app.png](docs/screenshots/local-app/Local-app.png) | Coffee shop homepage with 23 products |
| **Infrastructure** | [ECS Cluster](docs/screenshots/aws/ecs-cluster-sevices.png) | 2 services, 4 tasks running (healthy) |
| **Pipeline** | [DevSecOps Pipeline](docs/screenshots/github/app-devsecops-pipeline.png) | 3-stage security scanning (6m 9s) |
| **Security** | [WAF Rules](docs/screenshots/waf/waf-rules-6-of-6.png) | 6 of 6 rules active, real-time blocking |
| **Cost** | [Infracost Analysis](docs/screenshots/infracost/infracost-cost-estimates.png) | $226/month breakdown per service |

---

## System Architecture

### Complete Infrastructure Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              EXTERNAL USERS / INTERNET                               â”‚
â”‚                         (Outside AWS - Global Access)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Namecheap DNS (Domain Registrar)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Domain: brewsecops.online                                                     â”‚ â”‚
â”‚  â”‚  Registrar: Namecheap                                                          â”‚ â”‚
â”‚  â”‚  Custom Nameservers (pointing to AWS Route53):                                â”‚ â”‚
â”‚  â”‚    â€¢ ns-1296.awsdns-34.org                                                     â”‚ â”‚
â”‚  â”‚    â€¢ ns-1684.awsdns-18.co.uk                                                   â”‚ â”‚
â”‚  â”‚    â€¢ ns-391.awsdns-48.com                                                      â”‚ â”‚
â”‚  â”‚    â€¢ ns-552.awsdns-05.net                                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                    AWS CLOUD                                         â•‘
â•‘                              Region: eu-central-1 (Frankfurt)                        â•‘
â•‘                              Account: 194722436853                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Route53 DNS (Public Hosted Zone)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Zone: brewsecops.online (managed by AWS)                                     â”‚ â”‚
â”‚  â”‚  Records:                                                                      â”‚ â”‚
â”‚  â”‚    â€¢ A (Alias): dev.brewsecops.online â†’ ALB                                  â”‚ â”‚
â”‚  â”‚    â€¢ CNAME: ACM validation records                                            â”‚ â”‚
â”‚  â”‚  Status: Active (delegated from Namecheap)                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ACM (AWS Certificate Manager)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Certificate: dev.brewsecops.online                                           â”‚ â”‚
â”‚  â”‚  Type: Amazon issued (RSA 2048)                                               â”‚ â”‚
â”‚  â”‚  Validation: DNS (automatic via Route53)                                      â”‚ â”‚
â”‚  â”‚  Status: Issued                                                                â”‚ â”‚
â”‚  â”‚  Valid: Jan 5, 2026 â†’ Feb 4, 2027                                            â”‚ â”‚
â”‚  â”‚  ARN: arn:aws:acm:eu-central-1:194722436853:certificate/503eb598...          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          AWS WAF (Web Application Firewall)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Web ACL: brewsecops-waf-dev                                                  â”‚ â”‚
â”‚  â”‚  Scope: Regional (associated with ALB)                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Rule 1: Rate Limiting                                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Limit: 2000 requests per 5 minutes per IP                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Action: Block (429 Too Many Requests)                               â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚  â”‚  Rule 2: AWS Managed - Core Rule Set                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Protection: XSS, SQL injection, LFI, RFI                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Action: Block                                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚  â”‚  Rule 3: AWS Managed - Known Bad Inputs                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Protection: OWASP Top 10 vulnerabilities                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Action: Block                                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚  â”‚  Rule 4: AWS Managed - SQL Database Protection                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Protection: SQL injection patterns                                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Action: Block                                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚  â”‚  Rule 5: AWS Managed - Bot Control                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Protection: Malicious bots, scrapers                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Action: Block unverified bots                                       â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚
â”‚  â”‚  â”‚  Rule 6: Geographic Restrictions (Custom)                                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Allowed: EU, US, Canada                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Action: Block others                                                â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  Logging: CloudWatch (aws-waf-logs-brewsecops-dev, 30-day retention)         â”‚ â”‚
â”‚  â”‚  Metrics: Request count, blocked requests, allowed requests                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  VPC: brewsecops-vpc-dev (10.0.0.0/16)                              â”‚
â”‚                                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Internet Gateway (brewsecops-igw-dev)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                                 â”‚
â”‚                                    â–¼                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚               Application Load Balancer (brewsecops-alb-dev)                 â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  DNS: brewsecops-alb-dev-1147974832.eu-central-1.elb.amazonaws.com    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Scheme: Internet-facing                                                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Type: Application Load Balancer                                        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Availability Zones: eu-central-1a, eu-central-1b                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Listener 1: HTTPS:443                                            â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    â€¢ SSL Certificate: ACM certificate                             â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    â€¢ Default Action: Forward to frontend target group             â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    â€¢ Rule: /api/* â†’ backend target group                         â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Listener 2: HTTP:80                                              â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚    â€¢ Default Action: Redirect to HTTPS (301)                      â”‚  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Security Group: brewsecops-alb-sg-dev                                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚    Inbound: 0.0.0.0/0:80, 0.0.0.0/0:443                                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚    Outbound: ECS security group:80, ECS security group:3001            â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚             â”‚                                             â”‚                          â”‚
â”‚             â–¼                                             â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Target Group: frontend-tg        â”‚      â”‚  Target Group: backend-tg         â”‚   â”‚
â”‚  â”‚  Port: 80                         â”‚      â”‚  Port: 3001                       â”‚   â”‚
â”‚  â”‚  Protocol: HTTP                   â”‚      â”‚  Protocol: HTTP                   â”‚   â”‚
â”‚  â”‚  Health Check: / (200)            â”‚      â”‚  Health Check: /api/health (200)  â”‚   â”‚
â”‚  â”‚  Targets: 2/2 healthy             â”‚      â”‚  Targets: 2/2 healthy             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚             â”‚                                             â”‚                          â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                               â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         PUBLIC SUBNETS                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚  Subnet 1: 10.0.1.0/24 (eu-central-1a)                                  â”‚â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ ALB ENIs, NAT Gateway 1                                            â”‚â”‚ â”‚
â”‚  â”‚  â”‚  Subnet 2: 10.0.2.0/24 (eu-central-1b)                                  â”‚â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ ALB ENIs, NAT Gateway 2                                            â”‚â”‚ â”‚
â”‚  â”‚  â”‚  Route Table: 0.0.0.0/0 â†’ Internet Gateway                              â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚                                                      â”‚
â”‚                               â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               NAT Gateway 1 (eu-central-1a)   NAT Gateway 2 (eu-central-1b)  â”‚ â”‚
â”‚  â”‚                 â€¢ Elastic IP attached           â€¢ Elastic IP attached         â”‚ â”‚
â”‚  â”‚                 â€¢ $38/month                     â€¢ $38/month                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚                                                      â”‚
â”‚                               â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                    PRIVATE SUBNETS (ECS Tasks) - MULTI-AZ                     â”‚â”‚
â”‚  â”‚                                                                                â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚   AVAILABILITY ZONE: eu-central-1a  â”‚  â”‚  AVAILABILITY ZONE: eu-central-1bâ”‚â”‚â”‚
â”‚  â”‚  â”‚   Subnet: 10.0.10.0/24              â”‚  â”‚  Subnet: 10.0.11.0/24            â”‚â”‚â”‚
â”‚  â”‚  â”‚   Route: 0.0.0.0/0 â†’ NAT GW 1       â”‚  â”‚  Route: 0.0.0.0/0 â†’ NAT GW 2     â”‚â”‚â”‚
â”‚  â”‚  â”‚                                     â”‚  â”‚                                  â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ ECS Cluster: brewsecops-cluster-dev (Fargate)                        â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ Container Insights: Enabled    Platform: Serverless                  â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚                                                                       â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  Service: brewsecops-frontend-dev (Total: 2 tasks)             â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  TASK 1 (AZ-1a)              â”‚  â”‚ TASK 2 (AZ-1b)                â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ IP: 10.0.10.x:80           â”‚  â”‚ â€¢ IP: 10.0.11.x:80            â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ CPU: 256 (0.25 vCPU)       â”‚  â”‚ â€¢ CPU: 256 (0.25 vCPU)        â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ Memory: 512 MB             â”‚  â”‚ â€¢ Memory: 512 MB              â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ Status: RUNNING (healthy)  â”‚  â”‚ â€¢ Status: RUNNING (healthy)   â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ Target Group: Healthy âœ“    â”‚  â”‚ â€¢ Target Group: Healthy âœ“     â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Image: ECR/GHCR brewsecops-frontend:latest (50 MB)               â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Port: 80 (Nginx serving React)                                   â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Cost: $41/month (both tasks)                                     â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Auto-Scaling: Min 2, Max 4 (CPU 70%, Memory 80%)                 â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Health Check: / (200 OK, 30s interval)                           â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Logs: /ecs/brewsecops-frontend-dev (7-day retention)             â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚                                                                       â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  Service: brewsecops-backend-dev (Total: 2 tasks)              â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  TASK 1 (AZ-1a)              â”‚  â”‚ TASK 2 (AZ-1b)                â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ IP: 10.0.10.x:3001         â”‚  â”‚ â€¢ IP: 10.0.11.x:3001          â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ CPU: 512 (0.5 vCPU)        â”‚  â”‚ â€¢ CPU: 512 (0.5 vCPU)         â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ Memory: 1024 MB            â”‚  â”‚ â€¢ Memory: 1024 MB             â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ Status: RUNNING (healthy)  â”‚  â”‚ â€¢ Status: RUNNING (healthy)   â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â”‚  â€¢ Target Group: Healthy âœ“    â”‚  â”‚ â€¢ Target Group: Healthy âœ“     â”‚ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Image: ECR/GHCR brewsecops-backend:latest (180 MB)               â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Port: 3001 (Node.js Express API)                                 â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Cost: $41/month (both tasks)                                     â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Auto-Scaling: Min 2, Max 4 (CPU 70%, Memory 80%)                 â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Health Check: /api/health (200 OK, 30s interval)                 â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Environment Variables:                                           â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚      - DB_HOST (RDS endpoint), DB_PORT=5432                         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚      - DB_NAME=brewsecops, DB_USER=postgres                         â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚      - DB_PASSWORD (from terraform.tfvars)                          â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â€¢ Logs: /ecs/brewsecops-backend-dev (7-day retention)              â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â”‚  Security Group: brewsecops-ecs-sg-dev                                  â”‚â”‚â”‚
â”‚  â”‚  â”‚    Inbound: ALB SG:80, ALB SG:3001                                      â”‚â”‚â”‚
â”‚  â”‚  â”‚    Outbound: RDS SG:5432, 0.0.0.0/0:443 (package downloads)            â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                               â”‚                                                      â”‚
â”‚                               â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                 PRIVATE SUBNETS (Database Tier) - MULTI-AZ                     â”‚â”‚
â”‚  â”‚                                                                                 â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚   AVAILABILITY ZONE: eu-central-1a  â”‚  â”‚  AVAILABILITY ZONE: eu-central-1bâ”‚â”‚â”‚
â”‚  â”‚  â”‚   Subnet: 10.0.20.0/24              â”‚  â”‚  Subnet: 10.0.21.0/24            â”‚â”‚â”‚
â”‚  â”‚  â”‚   Route: Local only (10.0.0.0/16)   â”‚  â”‚  Route: Local only (10.0.0.0/16) â”‚â”‚â”‚
â”‚  â”‚  â”‚   No internet access (isolated)     â”‚  â”‚  No internet access (isolated)   â”‚â”‚â”‚
â”‚  â”‚  â”‚                                     â”‚  â”‚                                  â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ RDS PRIMARY INSTANCE          â”‚ â”‚  â”‚ â”‚ RDS STANDBY INSTANCE          â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ (Active - Receives Writes)    â”‚ â”‚  â”‚ â”‚ (Passive - Sync Replication)  â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚                               â”‚ â”‚  â”‚ â”‚                               â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Instance: db.t3.micro       â”‚ â”‚  â”‚ â”‚ â€¢ Instance: db.t3.micro       â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Status: Available âœ“         â”‚ â”‚  â”‚ â”‚ â€¢ Status: Standby (sync) âœ“    â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Accepting connections       â”‚ â”‚  â”‚ â”‚ â€¢ Automatic failover ready    â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â”‚         â–² Synchronous Replication â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                          â”‚â”‚â”‚
â”‚  â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€ Automatic Failover â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚â”‚â”‚
â”‚  â”‚  â”‚                                                                            â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  RDS PostgreSQL: brewsecops-db-dev (Multi-AZ Configuration)         â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Engine: PostgreSQL 15                                        â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Instance Class: db.t3.micro (2 vCPU, 1 GB RAM)               â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Storage: 20 GB gp3 (encrypted at rest)                       â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Multi-AZ: ENABLED âœ“                                          â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ Synchronous replication between AZs                      â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ Automatic failover in ~60 seconds                        â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ Maintains same endpoint during failover                  â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Cost: $36/month (includes standby)                           â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Endpoint: brewsecops-db-dev.c1kmsw6w28ml.eu-central-1.rds...â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Port: 5432                                                   â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Database: brewsecops                                         â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Backup: 7-day retention, automated snapshots                 â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Maintenance: Sunday 03:00-04:00 UTC                          â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Publicly Accessible: No (private subnets only)               â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  Schema:                                                      â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ customers (id, name, email, password_hash)              â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ products (23 coffee beverages with prices)              â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ orders (customer_id, total, status, timestamps)         â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â”‚    â€¢ order_items (order_id, product_id, quantity, price)     â”‚  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  Security Group: brewsecops-rds-sg-dev                              â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚    Inbound: ECS SG:5432 ONLY (least privilege)                      â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚    Outbound: None (database doesn't initiate connections)           â”‚ â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ECR (Elastic Container Registry)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Repository: brewsecops-frontend-dev                                           â”‚ â”‚
â”‚  â”‚    â€¢ URI: 194722436853.dkr.ecr.eu-central-1.amazonaws.com/brewsecops-front... â”‚ â”‚
â”‚  â”‚    â€¢ Image: latest (50 MB, multi-stage build)                                 â”‚ â”‚
â”‚  â”‚    â€¢ Scan on push: Enabled                                                     â”‚ â”‚
â”‚  â”‚    â€¢ Lifecycle policy: Keep last 10 images                                     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Repository: brewsecops-backend-dev                                            â”‚ â”‚
â”‚  â”‚    â€¢ URI: 194722436853.dkr.ecr.eu-central-1.amazonaws.com/brewsecops-back...  â”‚ â”‚
â”‚  â”‚    â€¢ Image: latest (180 MB, multi-stage build)                                 â”‚ â”‚
â”‚  â”‚    â€¢ Scan on push: Enabled                                                     â”‚ â”‚
â”‚  â”‚    â€¢ Lifecycle policy: Keep last 10 images                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CloudWatch (Monitoring & Logging)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Log Groups:                                                                   â”‚ â”‚
â”‚  â”‚    â€¢ /ecs/brewsecops-frontend-dev (7-day retention)                           â”‚ â”‚
â”‚  â”‚    â€¢ /ecs/brewsecops-backend-dev (7-day retention)                            â”‚ â”‚
â”‚  â”‚    â€¢ /aws/waf/brewsecops-dev (30-day retention)                               â”‚ â”‚
â”‚  â”‚    â€¢ /aws/rds/instance/brewsecops-db-dev                                      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Metrics:                                                                      â”‚ â”‚
â”‚  â”‚    â€¢ ECS: CPU utilization, memory utilization, task count                     â”‚ â”‚
â”‚  â”‚    â€¢ ALB: Request count, target response time, HTTP codes                     â”‚ â”‚
â”‚  â”‚    â€¢ RDS: Database connections, CPU, read/write IOPS                          â”‚ â”‚
â”‚  â”‚    â€¢ WAF: Requests allowed, requests blocked, rule matches                    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Container Insights: Enabled                                                   â”‚ â”‚
â”‚  â”‚    â€¢ Cluster-level metrics                                                     â”‚ â”‚
â”‚  â”‚    â€¢ Service-level metrics                                                     â”‚ â”‚
â”‚  â”‚    â€¢ Task-level metrics                                                        â”‚ â”‚
â”‚  â”‚  Cost: ~$2/month                                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GitHub Actions CI/CD Pipeline                                 â”‚
â”‚                          (Integrated with External Services)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Trigger: Push to main branch                                                  â”‚ â”‚
â”‚  â”‚  Duration: 6m 9s (total)                                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Stage 1: Security Scanning (3m 19s)                                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Gitleaks: Secret detection (No leaks detected âœ“)                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ ESLint: Code quality + security rules (Passed âœ“)                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ SonarCloud API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      Quality gate (Passed âœ“)                                           â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ OWASP Dependency Check: CVE scanning (14 vulnerabilities managed) â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Snyk API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚
â”‚  â”‚  â”‚      Dependency validation (12 issues tracked)                         â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Trivy: Container scanning (Issues documented)                     â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Stage 2: Build & Container Security (1m 56s)                          â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Semantic Release: Version determination (v2.1.0)                  â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Docker Build: Frontend (50 MB) + Backend (180 MB)                 â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Hadolint: Dockerfile linting (Passed âœ“)                           â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Trivy: Container vulnerability scan                               â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Syft: SBOM generation (SPDX format, 245 packages)                 â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Stage 3: Sign & Push to Registry (36s)                                â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Install Cosign (keyless signing)                                  â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ AWS OIDC Authentication (no stored credentials)                   â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Push to ECR (production deployment)                               â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Push to GHCR (public portfolio)                                   â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ Cosign signing: OIDC certificate                                  â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚    â€¢ SBOM attestation: Attached to images                              â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Approval Gate: Production environment (manual approval required)      â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚
â”‚  â”‚  Artifacts: frontend-sbom.json, backend-sbom.json, trivy SARIF reports     â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”˜ â”‚
â”‚                                                                                  â”‚   â”‚
â”‚  Separate Infrastructure Pipeline (Terraform):                                  â”‚   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â€¢ terraform fmt, validate, plan                                         â”‚  â”‚   â”‚
â”‚  â”‚  â€¢ Infracost API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚  â”‚    Cost estimation + PR comments                                         â”‚  â”‚   â”‚
â”‚  â”‚  â€¢ tfsec: Security scanning                                              â”‚  â”‚   â”‚
â”‚  â”‚  â€¢ terraform apply (manual approval)                                     â”‚  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜
                                                                                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          EXTERNAL SAAS INTEGRATIONS                                  â”‚
â”‚                     (Pipeline connects to these services via API)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  SonarCloud (Code Quality Platform)                                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ URL: sonarcloud.io/project/brewsecops                                â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Integration: SONAR_TOKEN in GitHub Secrets                           â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Features:                                                             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Static code analysis (7,401 lines scanned)                         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Quality gate: Passed âœ“                                             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Security hotspots: 2 (reviewed, safe)                              â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Maintainability rating: A                                          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Security rating: A                                                 â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Evidence: [SonarCloud Dashboard](docs/screenshots/sonarcloud/)      â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  Snyk (Security Vulnerability Platform)                                 â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ URL: app.snyk.io/org/akingbadeomosebi                                â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Integration: SNYK_TOKEN in GitHub Secrets                            â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Features:                                                             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Dependency scanning (342 dependencies tested)                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Code analysis (12 issues identified)                               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Continuous monitoring (dashboard tracks trends)                    â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Automated fix PRs (available for 10/12 issues)                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - License compliance checking                                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Results: High: 3, Medium: 6, Low: 3                                  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Evidence: [Snyk Dashboard](docs/screenshots/snyk/)                   â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  Infracost (Cloud Cost Management Platform)                             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ URL: dashboard.infracost.io                                          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Integration: INFRACOST_API_KEY in GitHub Secrets                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Features:                                                             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Real-time cost estimation on PRs                                   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Monthly cost breakdown: $226/month                                 â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Cost trend tracking over time                                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Policy enforcement (alert if cost > $500)                          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚    - Savings recommendations (potential $114/month savings)             â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ PR Comments: Automatic cost impact on infrastructure changes         â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Evidence: [Infracost Dashboard](docs/screenshots/infracost/)         â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                      â”‚
â”‚  Authentication Methods:                                                             â”‚
â”‚    â€¢ SonarCloud: GitHub App + SONAR_TOKEN (OAuth)                                   â”‚
â”‚    â€¢ Snyk: GitHub App + SNYK_TOKEN (API key)                                        â”‚
â”‚    â€¢ Infracost: INFRACOST_API_KEY (API key)                                         â”‚
â”‚                                                                                      â”‚
â”‚  Value Demonstrated:                                                                 â”‚
â”‚    âœ“ Enterprise tool integration (not just local scripts)                           â”‚
â”‚    âœ“ API authentication and secrets management                                      â”‚
â”‚    âœ“ Continuous monitoring beyond single pipeline runs                              â”‚
â”‚    âœ“ Professional SaaS platform usage                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GitHub Container Registry (GHCR)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Package: ghcr.io/akingbadeomosebi/brewsecops-frontend                         â”‚ â”‚
â”‚  â”‚    â€¢ Visibility: Public                                                         â”‚ â”‚
â”‚  â”‚    â€¢ Tags: latest, v2.1.0, v2.0.0                                              â”‚ â”‚
â”‚  â”‚    â€¢ Signed: Cosign keyless signature âœ“                                        â”‚ â”‚
â”‚  â”‚    â€¢ SBOM: SPDX format attached                                                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Package: ghcr.io/akingbadeomosebi/brewsecops-backend                          â”‚ â”‚
â”‚  â”‚    â€¢ Visibility: Public                                                         â”‚ â”‚
â”‚  â”‚    â€¢ Tags: latest, v2.1.0, v2.0.0                                              â”‚ â”‚
â”‚  â”‚    â€¢ Signed: Cosign keyless signature âœ“                                        â”‚ â”‚
â”‚  â”‚    â€¢ SBOM: SPDX format attached                                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Architecture Highlights

**Request Flow:**
1. **External User** â†’ Internet (outside AWS)
2. **Namecheap Domain** â†’ Custom nameservers point to Route53
3. **Route53 DNS** â†’ Resolves dev.brewsecops.online to ALB
4. **AWS WAF** â†’ Inspects requests, blocks attacks
5. **Application Load Balancer** â†’ Distributes traffic to ECS tasks
6. **ECS Tasks** â†’ 2 frontend + 2 backend (1 of each per AZ)
7. **RDS Multi-AZ** â†’ Primary handles writes, standby for failover

**Multi-Tier Isolation:**
- **Public Tier**: ALB only (internet-facing, 2 AZs)
- **Private Tier**: ECS tasks (no direct internet, 2 AZs)
- **Database Tier**: RDS only (completely isolated, Multi-AZ replication)

**True High Availability:**
- **Multi-AZ Deployment**: 2 availability zones (eu-central-1a, eu-central-1b)
- **ECS Distribution**: 
  - Frontend: 1 task in AZ-1a + 1 task in AZ-1b = 2 tasks total
  - Backend: 1 task in AZ-1a + 1 task in AZ-1b = 2 tasks total
- **RDS Multi-AZ**: 
  - Primary instance in one AZ (active, receives writes)
  - Standby instance in another AZ (passive, synchronous replication)
  - Automatic failover in ~60 seconds if primary fails
  - Same endpoint maintained during failover
- **Auto-Scaling**: ECS services scale on CPU/Memory metrics (min 2, max 4)
- **Redundancy**: 2 NAT Gateways (one per AZ), Multi-AZ RDS

**Domain Resolution Flow:**
1. **Domain Registration**: Namecheap (brewsecops.online)
2. **DNS Delegation**: Custom nameservers point to AWS Route53
3. **DNS Management**: Route53 hosted zone handles all DNS queries
4. **SSL Certificate**: ACM certificate validated via Route53 DNS records
5. **Traffic Routing**: A record (alias) points to ALB DNS name

**Multi-AZ Failover Scenarios:**

*Scenario 1: ECS Task Failure in One AZ*
- If 1 frontend task fails in AZ-1a:
  - ALB immediately stops routing to failed task
  - Traffic shifts to healthy task in AZ-1b (100% traffic)
  - Auto-scaling triggers, launches new task in AZ-1a
  - Traffic rebalances once new task passes health checks
  - **Downtime**: 0 seconds (seamless failover)

*Scenario 2: Entire Availability Zone Failure*
- If all of eu-central-1a becomes unavailable:
  - ALB routes all traffic to tasks in AZ-1b
  - Both frontend and backend tasks in AZ-1b handle full load
  - RDS automatically fails over to standby in AZ-1b (~60 seconds)
  - Endpoint remains the same (no application changes needed)
  - **Downtime**: ~60 seconds (RDS failover time)

*Scenario 3: RDS Primary Instance Failure*
- If primary RDS instance fails:
  - AWS promotes standby to primary automatically
  - DNS endpoint points to new primary
  - Application reconnects with same connection string
  - No data loss (synchronous replication)
  - **Downtime**: ~60 seconds (failover + DNS propagation)

**Security Layers:**
1. **Perimeter**: AWS WAF with 6 active rules (before traffic reaches ALB)
2. **Network**: Security groups with least-privilege access (ALB â†’ ECS â†’ RDS)
3. **Transport**: TLS/SSL via ACM certificate (HTTPS enforced)
4. **Application**: IAM roles for ECS tasks (no hardcoded credentials)
5. **Supply Chain**: Cosign image signing + SBOM (verified container provenance)
6. **Monitoring**: CloudWatch logs and WAF request logging (full audit trail)

---

## Technology Stack

### Infrastructure Layer

| Technology | Purpose | Configuration |
|------------|---------|---------------|
| **Terraform** | Infrastructure as Code | 11 modules, 2,767 lines of HCL |
| **AWS ECS Fargate** | Container orchestration | Serverless, 4 tasks across 2 AZs |
| **AWS VPC** | Network foundation | Multi-AZ with public/private/database subnets |
| **AWS RDS** | PostgreSQL database | db.t3.micro, Multi-AZ, 20GB encrypted storage |
| **AWS ALB** | Load balancing | Path-based routing, health checks |
| **AWS WAF** | Web application firewall | 6 rules: rate limiting, SQL injection, XSS, bot control |
| **AWS Route53** | DNS management | Hosted zone, A records (alias to ALB) |
| **AWS ACM** | SSL/TLS certificates | Automatic DNS validation, free |
| **AWS ECR** | Container registry | Image scanning, lifecycle policies |
| **AWS CloudWatch** | Monitoring & logging | Logs, metrics, alarms, Container Insights |

### Application Layer

| Technology | Version | Purpose |
|------------|---------|---------|
| **React** | 18.3.1 | Frontend UI framework |
| **TypeScript** | 5.0+ | Type-safe frontend development |
| **Vite** | 5.0+ | Fast build tool and dev server |
| **Tailwind CSS** | 3.4+ | Utility-first CSS framework |
| **Node.js** | 20 LTS | Backend runtime |
| **Express** | 4.18+ | RESTful API framework |
| **PostgreSQL** | 15 | Relational database |
| **pg** | 8.11+ | PostgreSQL client for Node.js |
| **Docker** | 24.0+ | Containerization |
| **Nginx** | 1.25 | Frontend web server |

### CI/CD & Security

| Tool | Type | Purpose | Integration |
|------|------|---------|-------------|
| **GitHub Actions** | CI/CD Platform | Workflow orchestration | Native |
| **Gitleaks** | CLI Tool | Secret detection | Runs in pipeline |
| **ESLint** | CLI Tool | JavaScript/TypeScript linting | Runs in pipeline |
| **SonarCloud** | ğŸŒ SaaS Platform | Code quality analysis | API via SONAR_TOKEN |
| **OWASP Dependency Check** | CLI Tool | CVE scanning | Runs in pipeline |
| **Snyk** | ğŸŒ SaaS Platform | Security validation + monitoring | API via SNYK_TOKEN |
| **Trivy** | CLI Tool | Container scanning | Runs in pipeline |
| **Hadolint** | CLI Tool | Dockerfile linting | Runs in pipeline |
| **Cosign** | CLI Tool | Image signing | Keyless OIDC signing |
| **Syft** | CLI Tool | SBOM generation | SPDX format output |
| **Infracost** | ğŸŒ SaaS Platform | Cost estimation + governance | API via INFRACOST_API_KEY |

**ğŸŒ External SaaS Integrations** (demonstrates professional tool usage):
- **SonarCloud**: Continuous code quality monitoring with dashboard
- **Snyk**: Ongoing vulnerability tracking with automated fix PRs
- **Infracost**: Cost trend analysis with PR comments and policy enforcement

---

## Infrastructure Components

### 76 AWS Resources Deployed

| Component Category | Resources | Details |
|-------------------|-----------|---------|
| **VPC & Networking** | 15 | VPC, 6 subnets, 2 NAT Gateways, Internet Gateway, 4 route tables, DB subnet group |
| **Compute (ECS)** | 12 | Cluster, 2 services, 2 task definitions, 4 tasks, task roles, execution roles, log groups |
| **Load Balancing** | 7 | ALB, 2 target groups, 2 listeners (HTTP, HTTPS), 2 listener rules, health checks |
| **Database (RDS)** | 8 | DB instance, subnet group, parameter group, option group, security group, backups, monitoring |
| **Container Registry** | 4 | 2 ECR repositories, 2 lifecycle policies, image scanning configs |
| **DNS & Certificates** | 5 | Route53 hosted zone, 3 DNS records (A, CNAME), ACM certificate |
| **Security (WAF)** | 9 | Web ACL, 6 rules (4 managed + 2 custom), logging config, CloudWatch log group |
| **IAM & Security** | 10 | 3 security groups, 5 IAM roles, OIDC provider, KMS key |
| **Monitoring** | 4 | 3 CloudWatch log groups, Container Insights, custom metrics |
| **Other** | 2 | S3 bucket (Terraform state), DynamoDB table (state locks) |

### Terraform Module Structure

```
infra/terraform/
â”œâ”€â”€ bootstrap/                    # State management (S3, DynamoDB)
â”‚   â”œâ”€â”€ main.tf
â”‚   â”œâ”€â”€ variables.tf
â”‚   â””â”€â”€ outputs.tf
â”‚
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ vpc/                      # Multi-AZ VPC with 6 subnets
â”‚   â”œâ”€â”€ security-groups/          # ALB, ECS, RDS security groups
â”‚   â”œâ”€â”€ ecr/                      # Container registries
â”‚   â”œâ”€â”€ ecs-cluster/              # ECS cluster with Fargate
â”‚   â”œâ”€â”€ ecs-service/              # ECS services with auto-scaling
â”‚   â”œâ”€â”€ alb/                      # Application Load Balancer
â”‚   â”œâ”€â”€ rds/                      # PostgreSQL Multi-AZ
â”‚   â”œâ”€â”€ route53/                  # DNS management
â”‚   â”œâ”€â”€ acm/                      # SSL certificates
â”‚   â”œâ”€â”€ waf/                      # Web Application Firewall
â”‚   â””â”€â”€ monitoring/               # CloudWatch logs and metrics
â”‚
â””â”€â”€ environments/
    â””â”€â”€ dev/                      # Development environment
        â”œâ”€â”€ main.tf              # Module composition
        â”œâ”€â”€ backend.tf           # S3 state backend
        â”œâ”€â”€ variables.tf         # Input variables
        â”œâ”€â”€ terraform.tfvars     # Variable values (not in Git)
        â””â”€â”€ outputs.tf           # Output values
```

**Key Design Principles:**
- **Modularity**: Each module is self-contained and reusable
- **Separation**: Network, compute, database, security layers separated
- **State Management**: Remote S3 backend with DynamoDB locking
- **Environment Parity**: Same modules across dev/staging/prod

---

## Security Implementation

### 6-Layer Defense-in-Depth

**Layer 1: Perimeter Security (AWS WAF)**
- Rate limiting: 2000 requests/5 minutes per IP
- SQL injection protection (tested with real payloads)
- XSS prevention (tested with script injection)
- Known bad inputs blocking
- Bot control (verified bots allowed, malicious blocked)
- Geographic restrictions (optional)
- **Evidence**: [WAF Testing Screenshots](docs/screenshots/waf/)

**Layer 2: Network Security**
- Security groups with least-privilege rules
- Private subnets for compute resources
- Isolated database subnet (no internet)
- NAT Gateways for outbound traffic only
- **Evidence**: [Security Groups](docs/screenshots/aws/security-groups.png)

**Layer 3: Transport Security**
- TLS 1.3 via AWS Certificate Manager
- Automatic certificate renewal
- HTTPS enforcement (HTTP redirects to HTTPS)
- **Evidence**: [SSL Certificate](docs/screenshots/local-app/ssl-cert.png)

**Layer 4: Application Security**
- IAM roles for ECS tasks (least privilege)
- Secrets in environment variables (Terraform managed)
- Connection pooling with limits
- Input validation on API layer
- **Evidence**: [ECS Task Roles](docs/screenshots/aws/ecs-task-definition.png)

**Layer 5: Supply Chain Security**
- Container image signing with Cosign (keyless OIDC)
- Software Bill of Materials (SBOM) in SPDX format
- Image vulnerability scanning (ECR + Trivy)
- Multi-stage Docker builds (reduced attack surface)
- **Evidence**: [Cosign Verification](docs/screenshots/cosign%20%26%20namescheap-dns/cosign-frontend.png)

**Layer 6: Monitoring & Detection**
- CloudWatch Logs for all components
- WAF request logging (30-day retention)
- Container Insights metrics
- Automated alerting (future enhancement)
- **Evidence**: [CloudWatch Logs](docs/screenshots/aws/cloudwatch-logs.png)

### Real Security Testing Results

**SQL Injection (Blocked âœ“)**
- Payload: `' OR '1'='1`, `'; DROP TABLE users; --`
- Result: 403 Forbidden from WAF
- [Test Evidence](docs/screenshots/waf/waf-tests-sql-injection-tests.png)

**Cross-Site Scripting (Blocked âœ“)**
- Payload: `<script>alert('XSS')</script>`, `<img src=x onerror=alert(1)>`
- Result: 403 Forbidden from WAF
- [Test Evidence](docs/screenshots/waf/waf-tests-script-tag-event-handler-javascript-protocol-data-exfiltration-form-action-hijacking.png)

**Rate Limiting (Working âœ“)**
- Test: 2500 requests from single IP in 5 minutes
- Result: First 2000 allowed, remaining 500 blocked
- [Test Evidence](docs/screenshots/waf/waf-rate-limit-blocks.png)

**Bot Control (Working âœ“)**
- Verified bots: Googlebot, Bingbot â†’ Allowed
- Malicious bots: Scrapers â†’ Blocked
- [Test Evidence](docs/screenshots/waf/waf-bot-control-test.png)

### Security Scanning Pipeline

| Stage | Tool | Purpose | Status |
|-------|------|---------|--------|
| **Secrets** | Gitleaks | Detect API keys, passwords, tokens | âœ“ No leaks |
| **Code Quality** | ESLint + SonarCloud | Find bugs, code smells, security hotspots | âœ“ Quality gate passed |
| **Dependencies** | OWASP + Snyk | CVE detection in npm packages | âš ï¸ 14 managed CVEs |
| **Container** | Trivy | Image vulnerabilities, OS packages | âš ï¸ Issues tracked |
| **Dockerfile** | Hadolint | Best practices enforcement | âœ“ Passed |
| **Supply Chain** | Cosign + Syft | Image signing + SBOM generation | âœ“ Verified |

**View Complete Results**: [GitHub Security Report](docs/screenshots/github/github-security-report.png)

---

## CI/CD Pipeline

### 3-Stage Automated Pipeline

**Pipeline Duration**: 6 minutes 9 seconds  
**Workflow File**: `.github/workflows/pipeline.yml`  
**Trigger**: Push to main branch  
**Visual Evidence**: [Complete Pipeline Run](docs/screenshots/github/app-devsecops-pipeline.png)

### Stage 1: Security Scanning (3m 19s)

```yaml
security-scan:
  runs-on: ubuntu-latest
  steps:
    - Checkout code
    - Run Gitleaks (secret detection)
    - Run ESLint (code quality + security)
    - Run SonarCloud (static analysis)
    - Run OWASP Dependency Check (CVE scanning)
    - Run Snyk (validation)
    - Run Trivy (container pre-scan)
```

**Output**: "No leaks detected" âœ“  
**Evidence**: [Security Scanning Stage](docs/screenshots/github/security-scanning.png)

### Stage 2: Build & Container Security (1m 56s)

```yaml
build-and-scan:
  needs: security-scan
  runs-on: ubuntu-latest
  steps:
    - Semantic Release (determine version)
    - Docker Build (frontend + backend)
    - Hadolint (Dockerfile linting)
    - Trivy (container vulnerability scan)
    - Syft (generate SBOM)
```

**Artifacts**:
- Frontend image: 50 MB (multi-stage build)
- Backend image: 180 MB (multi-stage build)
- SBOM files: frontend-sbom.json, backend-sbom.json

**Evidence**: [Build Stage](docs/screenshots/github/build-&-container-security.png)

### Stage 3: Sign & Push to Registry (36s)

```yaml
sign-and-push:
  needs: build-and-scan
  runs-on: ubuntu-latest
  environment: production  # Manual approval required
  steps:
    - Install Cosign
    - Configure AWS credentials (OIDC)
    - Login to ECR
    - Login to GHCR
    - Push images to ECR
    - Push images to GHCR
    - Sign images with Cosign (keyless)
    - Attach SBOM attestation
```

**Dual Registry Strategy**:
- **AWS ECR**: Production deployment (ECS pulls from here)
- **GitHub Container Registry**: Public portfolio demonstration

**Evidence**: [Sign & Push Stage](docs/screenshots/github/sign-and-push-to-registry.png)

### External Service Integrations

The pipeline integrates with professional SaaS platforms, demonstrating enterprise-level tool usage:

#### SonarCloud Integration
- **Platform**: sonarcloud.io
- **Authentication**: GitHub App + SONAR_TOKEN (stored in GitHub Secrets)
- **Purpose**: Continuous code quality monitoring
- **Features**:
  - Deep static analysis beyond ESLint
  - Quality gate enforcement (blocks merges if standards not met)
  - Technical debt tracking
  - Security hotspot detection
  - Historical trend analysis
- **Results**: 
  - Quality gate: Passed âœ“
  - Lines analyzed: 7,401
  - Maintainability rating: A
  - Security rating: A
- **Evidence**: [SonarCloud Dashboard](docs/screenshots/sonarcloud/sonarcloud2.png)

#### Snyk Integration
- **Platform**: app.snyk.io
- **Authentication**: GitHub App + SNYK_TOKEN (stored in GitHub Secrets)
- **Purpose**: Continuous security monitoring + automated fixes
- **Features**:
  - Dependency vulnerability scanning (342 packages)
  - Code security analysis
  - License compliance checking
  - Automated fix PRs
  - Real-time dashboard tracking
  - Integration with GitHub Security tab
- **Results**:
  - Total issues: 12 (3 High, 6 Medium, 3 Low)
  - Fix available: 10/12 via automated PRs
- **Evidence**: [Snyk Overview](docs/screenshots/snyk/snyk-overview1.png)

#### Infracost Integration
- **Platform**: dashboard.infracost.io
- **Authentication**: INFRACOST_API_KEY (stored in GitHub Secrets)
- **Purpose**: Infrastructure cost governance
- **Features**:
  - Real-time cost estimates on Terraform PRs
  - Monthly cost breakdown per resource
  - Cost trend tracking over time
  - Policy enforcement (alerts if cost > $500)
  - Savings recommendations
  - Historical cost analysis
- **Results**:
  - Current monthly cost: $226
  - Potential savings: $114/month (optimization suggestions)
  - Policy status: Passed (under $500 threshold)
- **Evidence**: [Infracost PR Comment](docs/screenshots/infracost/infracost-pr-request.png)

**Why External Integrations Matter**:
1. **Professional Tool Usage**: Not just running local scripts, but leveraging enterprise platforms
2. **Continuous Monitoring**: These platforms track trends over time, not just point-in-time scans
3. **API Integration Skills**: Demonstrates ability to connect CI/CD to external services
4. **Secrets Management**: Proper use of GitHub Secrets for API authentication
5. **Cost Awareness**: Infracost shows financial responsibility in infrastructure decisions

### Manual Approval Gates

**Production Deployment Approval**:
- Environment: production
- Required reviewers: 1
- Prevents accidental production changes
- [Approval Gate Evidence](docs/screenshots/github/pipeline-human-gate.png)

### Deployment Workflow

Separate workflow for infrastructure deployment:

```yaml
# .github/workflows/deploy.yml
deploy-infrastructure:
  steps:
    - terraform init
    - terraform plan (review required)
    - terraform apply (manual approval)
    - Update ECS services (force new deployment)
    - Verify health checks
```

**Evidence**: [Deploy Infrastructure](docs/screenshots/github/deploy-infrastructure-summary.png)

---

## Cost Analysis

### Actual Monthly Cost: $226

Based on **real Infracost analysis** from deployed infrastructure:

**Visual Evidence**: [Infracost Cost Breakdown](docs/screenshots/infracost/infracost-cost-estimates.png)

| Service | Configuration | Monthly Cost |
|---------|---------------|--------------|
| **ECS Frontend Service** | 2 tasks Ã— 256 CPU Ã— 512 MB | $41 |
| **ECS Backend Service** | 2 tasks Ã— 512 CPU Ã— 1024 MB | $41 |
| **NAT Gateway (AZ-1a)** | 1 NAT + data processing | $38 |
| **NAT Gateway (AZ-1b)** | 1 NAT + data processing | $38 |
| **RDS PostgreSQL** | db.t3.micro Multi-AZ, 20GB gp3 | $36 |
| **Application Load Balancer** | 1 ALB | $20 |
| **AWS WAF** | Web ACL + 6 rules | $10 |
| **KMS Key** | Encryption key | $1 |
| **CloudWatch Logs** | Log groups (within free tier) | $0 |
| **Route53** | Hosted zone + queries | < $1 |
| **S3 + DynamoDB** | Terraform state storage | < $1 |
| **Total** | | **$226/month** |

### Cost Optimization Opportunities

**Identified via Infracost**: [Savings Suggestions](docs/screenshots/infracost/infracost-savings-suggestions.png)

| Strategy | Savings | Trade-offs | Recommendation |
|----------|---------|------------|----------------|
| **Fargate Spot** | $58/month (70% off compute) | Task interruptions possible | âœ“ Good for dev/staging |
| **Single NAT Gateway** | $38/month | No AZ redundancy | âœ— Keep Multi-AZ for HA demo |
| **RDS Single-AZ** | $18/month | No automatic failover | âœ— Keep Multi-AZ for portfolio |
| **Smaller RDS instance** | $10/month | Slower performance | âœ“ Could use db.t3.nano |
| **Reduce log retention** | $2/month | Less historical data | âœ“ 7 days sufficient for dev |

**Optimized Cost**: ~$168/month (26% savings)  
**Current Choice**: Keep Multi-AZ architecture to demonstrate production-grade capabilities

### Infracost Integration

**PR Cost Comments**: Automatic cost estimates on infrastructure changes  
**Policy Enforcement**: Alert if monthly cost exceeds $500  
**Trend Analysis**: [Cost History Dashboard](docs/screenshots/infracost/infracost-issue-explorer.png)

---

## Quick Start Guide

### Prerequisites

```bash
# Required tools
terraform >= 1.5.0
aws-cli >= 2.0
docker >= 24.0
git >= 2.30

# AWS credentials configured
aws configure
```

### 1. Clone Repository

```bash
git clone https://github.com/AkingbadeOmosebi/brewsecops.git
cd brewsecops
```

### 2. Deploy Bootstrap Infrastructure

```bash
cd infra/terraform/bootstrap
terraform init
terraform plan
terraform apply

# Outputs: S3 bucket name, DynamoDB table name
```

### 3. Deploy Dev Environment

```bash
cd ../environments/dev

# Create terraform.tfvars (not in Git)
cat > terraform.tfvars <<EOF
domain_name = "brewsecops.online"
db_master_password = "YourSecurePassword123!"
frontend_image_tag = "latest"
backend_image_tag = "latest"
waf_rate_limit = 2000
EOF

terraform init
terraform plan
terraform apply
```

**Expected duration**: ~15 minutes  
**Resources created**: 76 AWS resources

### 4. Push Container Images to ECR

```bash
# Login to ECR
aws ecr get-login-password --region eu-central-1 | \
  docker login --username AWS --password-stdin \
  194722436853.dkr.ecr.eu-central-1.amazonaws.com

# Pull from GitHub Container Registry
docker pull ghcr.io/akingbadeomosebi/brewsecops-frontend:latest
docker pull ghcr.io/akingbadeomosebi/brewsecops-backend:latest

# Tag for ECR
docker tag ghcr.io/akingbadeomosebi/brewsecops-frontend:latest \
  194722436853.dkr.ecr.eu-central-1.amazonaws.com/brewsecops-frontend-dev:latest

docker tag ghcr.io/akingbadeomosebi/brewsecops-backend:latest \
  194722436853.dkr.ecr.eu-central-1.amazonaws.com/brewsecops-backend-dev:latest

# Push to ECR
docker push 194722436853.dkr.ecr.eu-central-1.amazonaws.com/brewsecops-frontend-dev:latest
docker push 194722436853.dkr.ecr.eu-central-1.amazonaws.com/brewsecops-backend-dev:latest
```

### 5. Verify ECS Services

```bash
# Check service status
aws ecs describe-services \
  --cluster brewsecops-cluster-dev \
  --services brewsecops-frontend-dev brewsecops-backend-dev \
  --region eu-central-1

# Wait for tasks to be RUNNING and healthy
aws ecs list-tasks --cluster brewsecops-cluster-dev --region eu-central-1
```

### 6. Initialize Database

```bash
# Get RDS endpoint from Terraform output
RDS_ENDPOINT=$(terraform output -raw rds_endpoint)

# Connect to database
psql -h $RDS_ENDPOINT -U postgres -d brewsecops -p 5432

# In psql console:
\i akings-coffee-app/database/schema.sql
\i akings-coffee-app/database/seed.sql

# Verify
SELECT COUNT(*) FROM products;  -- Should return 23
```

### 7. Access Application

```bash
# Get ALB DNS name
ALB_DNS=$(terraform output -raw alb_dns_name)

# Test endpoints
curl http://$ALB_DNS/
curl http://$ALB_DNS/api/health
curl http://$ALB_DNS/api/products

# Access via custom domain (after DNS propagation)
open https://dev.brewsecops.online
```

---

## Project Statistics

### Code Metrics

| Metric | Value |
|--------|-------|
| **Total Lines of Code** | 10,168 lines |
| **Infrastructure (Terraform)** | 2,767 lines |
| **Application (React + Node.js)** | 7,401 lines |
| **Terraform Modules** | 11 modules |
| **AWS Resources** | 76 resources |
| **Container Images** | 2 (frontend 50MB, backend 180MB) |
| **Git Commits** | 40+ meaningful commits |

### Security Metrics

| Metric | Value |
|--------|-------|
| **Security Scanners** | 6 tools |
| **Secrets Detected** | 0 (Gitleaks) |
| **Code Quality** | A rating (SonarCloud) |
| **Critical CVEs** | 0 |
| **High CVEs** | 3 (managed) |
| **Medium CVEs** | 6 (tracked) |
| **Low CVEs** | 8 (documented) |
| **Container Layers** | 8 (multi-stage optimized) |
| **SBOM Components** | 245 packages |

### Infrastructure Metrics

| Metric | Value |
|--------|-------|
| **Availability Zones** | 2 (Multi-AZ) |
| **Subnets** | 6 (2 public, 2 private, 2 database) |
| **ECS Tasks** | 4 (2 frontend, 2 backend) |
| **Load Balancer Targets** | 4 IPs (2/2 healthy per target group) |
| **Database Size** | 20 GB (gp3 encrypted) |
| **WAF Rules** | 6 active rules |
| **CloudWatch Log Groups** | 4 groups |

### Performance Metrics

| Metric | Value |
|--------|-------|
| **Infrastructure Deployment** | ~15 minutes |
| **Pipeline Duration** | 6m 9s |
| **Security Scanning** | 3m 19s |
| **Container Build** | 1m 56s |
| **Sign & Push** | 36s |
| **Application Response Time** | 50-100ms (average) |
| **Health Check Interval** | 30 seconds |
| **Auto-Scaling Cooldown** | 60s (scale out), 120s (scale in) |

---

## Documentation

### Complete Documentation Suite

| Document | Description | Link |
|----------|-------------|------|
| **README.md** | Overview and quick start | (This file) |
| **SCREENSHOTS.md** | 77 screenshots with descriptions | [View](docs/SCREENSHOTS.md) |
| **ARCHITECTURE.md** | System design and data flow | [View](docs/Architecture.md) |
| **CHALLENGES-AND-LEARNINGS.md** | Problem-solving documentation | [View](docs/Challenges%20and%20Learnings.md) |
| **HANDOFF-DOCUMENTATION.md** | Detailed technical handoff | [View](HANDOFF-DOCUMENTATION.md) |

### Repository Structure

```
brewsecops/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ pipeline.yml           # DevSecOps CI/CD
â”‚       â””â”€â”€ deploy.yml             # Infrastructure deployment
â”‚
â”œâ”€â”€ akings-coffee-app/             # Application code
â”‚   â”œâ”€â”€ frontend/                  # React 18 + TypeScript
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ backend/                   # Node.js 20 + Express
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ server.js
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ schema.sql             # Database schema
â”‚   â”‚   â””â”€â”€ seed.sql               # Sample data (23 products)
â”‚   â””â”€â”€ docker-compose.yml         # Local development
â”‚
â”œâ”€â”€ infra/terraform/
â”‚   â”œâ”€â”€ bootstrap/                 # State management
â”‚   â”œâ”€â”€ modules/                   # 11 reusable modules
â”‚   â”‚   â”œâ”€â”€ vpc/
â”‚   â”‚   â”œâ”€â”€ security-groups/
â”‚   â”‚   â”œâ”€â”€ ecr/
â”‚   â”‚   â”œâ”€â”€ ecs-cluster/
â”‚   â”‚   â”œâ”€â”€ ecs-service/
â”‚   â”‚   â”œâ”€â”€ alb/
â”‚   â”‚   â”œâ”€â”€ rds/
â”‚   â”‚   â”œâ”€â”€ route53/
â”‚   â”‚   â”œâ”€â”€ acm/
â”‚   â”‚   â”œâ”€â”€ waf/
â”‚   â”‚   â””â”€â”€ monitoring/
â”‚   â””â”€â”€ environments/
â”‚       â””â”€â”€ dev/                   # Dev environment
â”‚           â”œâ”€â”€ main.tf
â”‚           â”œâ”€â”€ backend.tf
â”‚           â”œâ”€â”€ variables.tf
â”‚           â”œâ”€â”€ terraform.tfvars   # NOT in Git
â”‚           â””â”€â”€ outputs.tf
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ SCREENSHOTS.md             # Visual documentation
â”‚   â”œâ”€â”€ Architecture.md            # System design
â”‚   â”œâ”€â”€ Challenges and Learnings.md # Problem-solving
â”‚   â””â”€â”€ screenshots/               # 77 organized images
â”‚       â”œâ”€â”€ local-app/
â”‚       â”œâ”€â”€ aws/
â”‚       â”œâ”€â”€ github/
â”‚       â”œâ”€â”€ waf/
â”‚       â”œâ”€â”€ infracost/
â”‚       â”œâ”€â”€ sonarcloud/
â”‚       â”œâ”€â”€ snyk/
â”‚       â””â”€â”€ cosign & namescheap-dns/
â”‚
â”œâ”€â”€ .gitleaks.toml                 # Secret scanning config
â”œâ”€â”€ sonar-project.properties       # SonarCloud config
â”œâ”€â”€ .eslintrc.json                 # ESLint config
â””â”€â”€ README.md                      # This file
```

---

## Contact

**Akingbade Omosebi**  
ğŸ“ Location: Berlin, Germany  
ğŸ’¼ Target Role: Senior DevOps Engineer / Platform Engineer  
ğŸ’° Salary Range: â‚¬75,000 - â‚¬110,000  
ğŸŒ Portfolio: [github.com/AkingbadeOmosebi/brewsecops](https://github.com/AkingbadeOmosebi/brewsecops)

**Project Links:**
- **GitHub Repository**: [brewsecops](https://github.com/AkingbadeOmosebi/brewsecops)
- **Container Registry**: [GHCR Packages](https://github.com/AkingbadeOmosebi?tab=packages)
- **Live Demo**: `https://dev.brewsecops.online` (SSL enabled)

---

## Key Selling Points for German Tech Market

### Why This Project Stands Out

1. **Production-Grade Architecture**: Not a toy project â€” Multi-AZ, auto-scaling, proper security
2. **Security-First Mindset**: 6 scanning tools, real WAF testing, image signing, SBOM generation
3. **Professional Tool Integration**: SonarCloud, Snyk, and Infracost SaaS platforms (not just CLI scripts)
4. **Comprehensive Documentation**: 4 detailed docs + 77 screenshots â€” German engineering standards
5. **Cost Transparency**: Infracost integration shows financial awareness
6. **Real Problem-Solving**: Challenges documented with root cause analysis and prevention strategies
7. **Infrastructure-as-Code**: 11 modular Terraform components, reusable across environments
8. **Full-Stack Capability**: React + Node.js + PostgreSQL + AWS + CI/CD
9. **Professional Workflow**: Manual approval gates, semantic versioning, dual registries
10. **API Integration Skills**: Connected GitHub Actions to 3 external SaaS platforms with proper authentication

### Skills Demonstrated

**DevOps Core:**
- Infrastructure-as-code (Terraform)
- Container orchestration (ECS Fargate)
- CI/CD automation (GitHub Actions)
- Configuration management
- GitOps practices

**Security (DevSecOps):**
- Static code analysis (SonarCloud, ESLint)
- Dependency scanning (OWASP, Snyk)
- Container security (Trivy)
- Secret detection (Gitleaks)
- Image signing (Cosign)
- Web application firewall (AWS WAF)

**Cloud Platform (AWS):**
- VPC networking (Multi-AZ)
- Container services (ECS, ECR)
- Database management (RDS)
- Load balancing (ALB)
- DNS & certificates (Route53, ACM)
- Security services (WAF, Security Groups)
- Monitoring (CloudWatch)

**Soft Skills:**
- Systematic problem-solving
- Comprehensive documentation
- Cost-conscious architecture
- Security-aware development

---

## License

MIT License â€” See [LICENSE](LICENSE) file for details.

---

**Last Updated**: January 11, 2026  
**Version**: 2.1.0  
**Status**: Production-Ready âœ“

*"Built to showcase enterprise-level DevSecOps capabilities for the German tech market."*